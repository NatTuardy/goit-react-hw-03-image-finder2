(this["webpackJsonpgoit-react-hw-03-image-finder2"]=this["webpackJsonpgoit-react-hw-03-image-finder2"]||[]).push([[0],{69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(10),i=a.n(r),c=a(12),s=a.n(c),l=a(13),u=a(22),h=a(4),d=a(5),m=a(7),p=a(6),g=a(23),b=a.n(g),j=a(0),f=function(){return Object(j.jsx)(b.a,{type:"Hearts",color:"#00BFFF",height:80,width:80})},v=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={inputValue:""},e.handleChange=function(t){var a=t.target;e.setState({inputValue:a.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.inputValue),e.setState({inputValue:""})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state.inputValue,t=this.handleChange,a=this.handleSubmit;return Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{onSubmit:a,className:"SearchForm",children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",{className:"SearchForm-input",type:"text",value:e,onChange:t,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),O=function(e){var t=e.item,a=e.onShow;return Object(j.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return a(t.largeImageURL)},children:Object(j.jsx)("img",{src:t.webformatURL,className:"ImageGalleryItem-image"})})},y=function(e){var t=e.images,a=e.onShow;return Object(j.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(j.jsx)(O,{item:e,onShow:a},e.id)}))})},S=document.querySelector("#modal-root"),w=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).closeModal=function(t){"Escape"===t.key&&e.props.onClose()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.closeModal)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeModal)}},{key:"render",value:function(){return Object(r.createPortal)(Object(j.jsx)("div",{className:"Overlay",onClick:this.props.onClose,children:Object(j.jsx)("div",{className:"Modal",children:this.props.children})}),S)}}]),a}(n.Component),x=function(e){var t=e.onLoadMore;return Object(j.jsx)("button",{type:"button",onClick:t,className:"Button",children:"Load more"})},L=a(24),M=a.n(L),k=function(e,t){return M.a.get("https://pixabay.com/api/?q="+e+"&page="+t+"&key=23381165-23963a51c09328db6c17876e7&image_type=photo&orientation=horizontal&per_page=12")},C=(a(69),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={images:[],isLoading:!1,error:null,query:"",page:1,largeImg:"",isModal:!1},e.handleSubmit=function(t){e.setState({isLoading:!0,query:t,page:1,images:[]})},e.getFetchImages=function(){var t=Object(u.a)(s.a.mark((function t(a,n){var o,r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k(a,n);case 3:o=t.sent,r=o.data,i=r.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}})),e.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(i)),page:e.page+1,isLoading:!1}})),e.state.isModal||window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.setState({error:t.t0,isLoading:!1});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}(),e.onShowModal=function(t){e.setState({largeImg:t,isModal:!0})},e.onCloseModal=function(t){if(t&&"Overlay"!==t.target.className)return null;e.setState({isModal:!1})},e.handleLoadMore=function(){e.setState({isLoading:!0})},e}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.state,t=e.query,a=e.page;e.isLoading&&this.getFetchImages(t,a)}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.largeImg,n=e.isModal,o=e.isLoading,r=this.onShowModal,i=this.onCloseModal,c=this.handleLoadMore;return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(v,{onSubmit:this.handleSubmit,onChange:this.handleChange}),Object(j.jsx)(y,{images:t,onShow:r}),n&&Object(j.jsx)(w,{onClose:i,children:Object(j.jsx)("img",{src:a})}),o&&Object(j.jsx)(f,{}),t.length>0&&Object(j.jsx)(x,{onLoadMore:c})]})}}]),a}(n.Component));i.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(C,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.79bbe07c.chunk.js.map